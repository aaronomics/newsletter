install.packages("nhlapi")
install.packages("ggplot2")
library(nhlapi)
library(ggplot2)
library(nhlapi)
library(ggplot2)
did_wings_play = function(){
yday = Sys.Date() - 1
#games_today = nhlapi::nhl_schedule_today()
games_today = nhlapi::nhl_schedule_date_range(yday, yday)[[1]]
games = games_today$dates$games[[1]]
for (i in 1:nrow(games)){
homeid = games$teams.home.team.id[i]
#print(homeid)
awayid = games$teams.away.team.id[i]
#print(awayid)
if ( homeid == 17){
wings_game_id = games$gamePk[i]
} else if (awayid == 17) {
wings_game_id = games$gamePk[i]
}
}
return(wings_game_id)
}
game_id = did_wings_play()
install.packages("curl")
library(nhlapi)
library(ggplot2)
library(curl)
library(nhlapi)
library(ggplot2)
did_wings_play = function(){
yday = Sys.Date() - 1
#games_today = nhlapi::nhl_schedule_today()
games_today = nhlapi::nhl_schedule_date_range(yday, yday)[[1]]
games = games_today$dates$games[[1]]
for (i in 1:nrow(games)){
homeid = games$teams.home.team.id[i]
#print(homeid)
awayid = games$teams.away.team.id[i]
#print(awayid)
if ( homeid == 17){
wings_game_id = games$gamePk[i]
} else if (awayid == 17) {
wings_game_id = games$gamePk[i]
}
}
return(wings_game_id)
}
game_id = did_wings_play()
### single game live event stats
live_feed = function() {
todays_game = nhlapi::nhl_games_feed(game_id)[[1]]
plays = todays_game$liveData
return(plays)
}
game_events = live_feed()
View(game_events)
all_plays = game_events$plays$allPlays
all_plays
View(all_plays)
